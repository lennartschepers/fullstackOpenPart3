{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/DelButton.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","button","react_default","a","createElement","Filter","newFilter","handleNewFilter","value","onChange","PersonForm","addPersons","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Persons","rows","baseUrl","services_persons","axios","get","newObject","post","id","put","concat","delete","DelButton","del","onClick","Notification","message","className","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useEffect","personService","then","response","setPersons","data","_useState","useState","_useState2","Object","slicedToArray","persons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","personsToShow","filter","person","toUpperCase","includes","components_Notification","components_Filter","event","console","log","target","components_PersonForm","preventDefault","personObject","map","window","confirm","find","objectSpread","item","catch","error","p","setTimeout","alert","components_Persons","components_Person","key","components_DelButton","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.64c27a29.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({name, number, button}) => {\n    return (\n        <li>{name} {number} {button}</li>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = ({newFilter,handleNewFilter}) => {\n    \n    return (\n        <div>\n            filter shown with <input value={newFilter} onChange={handleNewFilter} />\n        </div>\n    )\n\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPersons,newName,handleNewName,newNumber,handleNewNumber}) => {\n    \n    return (\n        <form onSubmit={addPersons}>\n            <div>\n                name: <input value={newName} onChange={handleNewName} /> <br />\n                number: <input value={newNumber} onChange={handleNewNumber} />\n            </div>\n            <div>\n                <button type=\"submit\"> add</button>\n            </div>\n      </form>\n    )\n\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({rows}) => {\n    return (\n      <ul>\n        {rows}\n      </ul>\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'https://safe-spire-72784.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, del }","import React from 'react'\n\nconst DelButton = ({del} ) => {\n   return (\n       <button onClick={del}> delete </button>\n   ) \n}\n\nexport default DelButton","import React from 'react'\n\nconst Notification = ( {message}) => {\n    if (message === null) {\n        return null\n    }\n\n    const notificationStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px'\n    }\n\n    return (\n        <div className=\"error\" style={notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport DelButton from './components/DelButton'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n  const [ persons, setPersons] = useState([]) \n\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const [newFilter, setFilter] = useState('')\n\n  const [message, setMessage] = useState(null)\n\n  const handleNewFilter = event => {\n    console.log('filter click', event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const personsToShow = newFilter === ''\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(newFilter.toUpperCase()))\n\n  const handleNewName = event => {\n    console.log('name click', event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = event => {\n    console.log('number click', event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const addPersons = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map((person) => person.name).includes(newName) ) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const person =persons.find((person) => person.name === newName)\n        personService\n          .update(person.id, {...person, number: newNumber})\n          .then(response => {\n            setPersons(persons.map(item => item.id !== person.id ? item : response.data))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            console.log('fail')\n            setPersons(persons.filter(p => p.id !== person.id))\n            \n            setMessage(\n              `information of ${newName} has already been removed from the server`\n            )\n            setTimeout(() => {\n              setMessage(null)\n            },5000)\n\n          })\n      }\n\n    } else if (personObject.name === \"\" || personObject.number ===\"\") {\n      window.alert('one or more fields are missing')\n    } else {\n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setMessage(\n            `added ${newName}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          },5000)\n        })\n    }\n  }\n  \n  const rows = () => personsToShow.map(person =>\n    <Person \n      name={person.name}\n      number={person.number}\n      key={person.name} \n      button={<DelButton del={ () => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n          personService\n            .del(person.id)\n            .then(response => {\n              setPersons(persons.filter(item => item.id !== person.id ))\n              console.log('delete', response)\n              }\n            )\n          }\n        }\n      } />}\n    /> \n    )\n    \n  \n\n  return (\n    <div>\n      <Notification message={message} />\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handleNewFilter={handleNewFilter} />\n      <h3>add a new</h3>\n      <PersonForm addPersons={addPersons} newName={newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} />\n\n      <h3>Numbers</h3>\n      <Persons rows={rows()} />\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n    <App \n    />,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}