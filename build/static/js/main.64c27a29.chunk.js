(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(13),o=t.n(l),u=t(14),c=t(2),i=function(e){var n=e.name,t=e.number,a=e.button;return r.a.createElement("li",null,n," ",t," ",a)},m=function(e){var n=e.newFilter,t=e.handleNewFilter;return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{value:n,onChange:t}))},d=function(e){var n=e.addPersons,t=e.newName,a=e.handleNewName,l=e.newNumber,o=e.handleNewNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})," ",r.a.createElement("br",null),"number: ",r.a.createElement("input",{value:l,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"}," add")))},f=function(e){var n=e.rows;return r.a.createElement("ul",null,n)},s=t(3),b=t.n(s),p="https://safe-spire-72784.herokuapp.com/api/persons",w=function(){return b.a.get(p)},h=function(e){return b.a.post(p,e)},v=function(e,n){return b.a.put("".concat(p,"/").concat(e),n)},E=function(e){return b.a.delete("".concat(p,"/").concat(e))},g=function(e){var n=e.del;return r.a.createElement("button",{onClick:n}," delete ")},N=function(e){var n=e.message;if(null===n)return null;return r.a.createElement("div",{className:"error",style:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},n)},j=function(){Object(a.useEffect)(function(){w().then(function(e){l(e.data)})},[]);var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)(""),s=Object(c.a)(o,2),b=s[0],p=s[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),k=O[0],y=O[1],S=Object(a.useState)(""),C=Object(c.a)(S,2),x=C[0],F=C[1],P=Object(a.useState)(null),B=Object(c.a)(P,2),D=B[0],J=B[1],T=""===x?t:t.filter(function(e){return e.name.toUpperCase().includes(x.toUpperCase())});return r.a.createElement("div",null,r.a.createElement(N,{message:D}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(m,{newFilter:x,handleNewFilter:function(e){console.log("filter click",e.target.value),F(e.target.value)}}),r.a.createElement("h3",null,"add a new"),r.a.createElement(d,{addPersons:function(e){e.preventDefault();var n={name:b,number:k};if(t.map(function(e){return e.name}).includes(b)){if(window.confirm("".concat(b," is already added to the phonebook, replace the old number with a new one?"))){var a=t.find(function(e){return e.name===b});v(a.id,Object(u.a)({},a,{number:k})).then(function(e){l(t.map(function(n){return n.id!==a.id?n:e.data})),p(""),y("")}).catch(function(e){console.log("fail"),l(t.filter(function(e){return e.id!==a.id})),J("information of ".concat(b," has already been removed from the server")),setTimeout(function(){J(null)},5e3)})}}else""===n.name||""===n.number?window.alert("one or more fields are missing"):h(n).then(function(e){l(t.concat(e.data)),p(""),y(""),J("added ".concat(b)),setTimeout(function(){J(null)},5e3)})},newName:b,handleNewName:function(e){console.log("name click",e.target.value),p(e.target.value)},newNumber:k,handleNewNumber:function(e){console.log("number click",e.target.value),y(e.target.value)}}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(f,{rows:T.map(function(e){return r.a.createElement(i,{name:e.name,number:e.number,key:e.name,button:r.a.createElement(g,{del:function(){window.confirm("Delete ".concat(e.name,"?"))&&E(e.id).then(function(n){l(t.filter(function(n){return n.id!==e.id})),console.log("delete",n)})}})})})}))};o.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.64c27a29.chunk.js.map